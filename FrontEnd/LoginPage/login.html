<!DOCTYPE>
<html>
<head>
    <title>Login Form</title>
    <linK rel= "stylesheet" type="text/css" href="style.css">
    
</body>
      <div class="loginbox">
       <img src ="login.png" class="login"> 
       <h1> Login Here</h1>
       <form>
           <p>Username</p>
           <input type="text" name="" id="mailid" placeholder="Enter Mailid">
           <p>Password</p>
           <input type="password" name=""id="password" placeholder="Enter Password">
           <button type="button" onclick="handleClick()" name=""  >Login</button>
           <a href="#"> Forget password?</a><br>
           <a herf="#">Don't have an account?</a>
       </form>
       <script type="text/javascript">
               function postData(url ='',data={}){
                   console.log('we are here');
                   return fetch(url,{
                       method:'POST',
                       headers:{
                           'Content-Type':'application/json',

                       },
                       body:JSON.stringify(data),
                   })
                   .then(response=>response.json());
               }

               function handleClick(){
                   console.log('Hi');
                   const mailid=document.getElementById('mailid').value;
                   const password=document.getElementById('password').value;

                   const Data={
                       url:'http://localhost:8080/api/users/login',
                       data:{

                           'mailid':mailid,
                           'pswd':password
                       }
                   };
                   postData(Data.url,Data.data)
                   .then(data=>{ console.log(JSON.stringify(data))
                       if((JSON.stringify(data))=="true")
                       {
                           window.location="C:/Users/pk9/Bookingapp/FrontEnd/SignUp/signup.html";
                       }
                       else{
                           alert("Invalid Credentials")
                       }
                   })
                   .catch(error=>console.error(error));
               }
       </script>
      </div>   

</body>
</head>
</html>